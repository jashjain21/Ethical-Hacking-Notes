<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>3.Blue</title>
</head><body>ms17_010 is the exploit we ll be talking about<br/>
wannacry used it as a part of payload<br/>
<img src="image.png" /><br/>
whenever u see something like windows 7 professional 7601 sevice pack1 use <b>eternal blue<br/>
</b><b>and i found out by using msfconsole annd getting smb_version there got the following image :<br/>
</b><img src="image 9.png" /><b><br/>
</b><b><br/>
</b><br/>
<img src="image 2.png" /><br/>
<br/>
at times the name of box gives hint as in to what tool to be used <br/>
(however follwoign method could tip the machine over)<br/>
<img src="image 3.png" width="700" height="282" /><br/>
<br/>
hence he usecd this <br/>
and finally got this<br/>
<img src="image 4.png" /><br/>
<br/>
and hence used this after confirming<br/>
<img src="image 5.png" /><br/>
<br/>
<img src="image 6.png" /><br/>
and finally we are done (bt this does not always give successfull results)<br/>
<br/>
thus options we see now <br/>
<img src="image 7.png" />&nbsp;&#09;<br/>
thus see the payload options it is unstaged payload coz its generic/shell_reverse_tcp<br/>
if it was staged payload it would have been generic/stage1/stage2/stage3<br/>
so if u know an exploit is there for sure then try changing unstaged to staged<br/>
<br/>
hence improving upon we get :<br/>
<img src="image 8.png" /><br/>
<br/>
<img src="image 10.png" width="550" height="202" /><br/>
<br/>
even this didint work for us so google abt autoblue:<br/>
<br/>
bt later on trying again above did work<br/>
<img src="image 11.png" /><br/>
<br/>
getting this meterpreter means that we have got access of the shell<br/>
wrote :route print to see what does it talkt o <br/>
<br/>
<img src="image 12.png" /><br/>
<br/>
wrote commands like :netstat -ano<br/>
<img src="image 13.png" width="350" height="313" /><br/>
<br/>
<img src="image 14.png" width="500" height="155" /><br/>
<br/>
tried following ot get credentitals bt it failed:<br/>
<img src="image 15.png" width="200" height="227" /><br/>
<br/>
could use lsa_dump_sam <br/>
also lsa_dump_secrets <br/>
<br/>
one more tool is incognito:<br/>
<img src="image 16.png" /><br/>
<br/>
<img src="image 17.png" /><br/>
<br/>
metasplot also has post exploitation commands <br/>
<br/>
installing the tool <br/>
<img src="image 18.png" /><br/>
<br/>
ran the checker file (target not patched meaning its vulnerable)<br/>
<img src="image 19.png" /><br/>
<br/>
this above can be useful to prove to the company when u cant hack in system bt all u need is a user to hackk it basically<br/>
<br/>
<img src="image 20.png" /><br/>
<br/>
lhost for reverse connnection is basically us <br/>
type ifconfig:<br/>
<img src="image 21.png" /><br/>
<br/>
inet value is what we need actually <br/>
<img src="image 22.png" /><br/>
<br/>
we know its x64 and not x86 hence typed aise hi 4446 for x86 wala<br/>
and typpe 0 as for simplicity e need meterpreter shell<br/>
<img src="image 23.png" /><br/>
<br/>
its running msfvenom which is payload generator<br/>
<img src="image 24.png" /><br/>
<br/>
thus it did generate payloads for us<br/>
<img src="image 25.png" width="350" height="280" /><br/>
<br/>
this starts metasploit which has an exlploit handler <br/>
we get as follows<br/>
<img src="image 26.png" /><br/>
<br/>
we use an exploit handler to set up a listener we are listeneing in the background for any conncetions thar come on 4445 or 4446<br/>
it needs to know the payload we are using :<br/>
<img src="image 27.png" /><br/>
<br/>
this payload was generated by msfvenom<br/>
hence it was aksing ques like 0 for staged and 1 for unstaged <br/>
<br/>
now did this :<br/>
<img src="image 28.png" /><br/>
<br/>
<img src="image 29.png" /><br/>
<br/>
this was happending in other tab<br/>
<img src="image 30.png" /><br/>
<br/>
know abt staged and unstaged payloads (try changing payload type if one doesnt work)<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<b>&nbsp;</b></body></html>